import{a as t_}from"./chunk-EVMREBXJ.js";import{c as Y,e as __,f as e_}from"./chunk-UQAZDBIZ.js";import{$a as z,Ea as V,Kb as q,Pa as T,Pb as J,Ra as c,Ua as C,Va as p,Wa as m,Xa as g,Ya as e,Za as _,_a as R,aa as b,ba as k,cb as E,gb as X,hb as u,jb as F,kb as j,mb as w,nb as B,ob as Q,pb as d,qb as A,rb as l,sb as H,ub as W,xa as i,xb as Z,ya as S}from"./chunk-PFJRUD22.js";var i_=["carouselItem"],n_=()=>[];function o_(o,s){if(o&1&&(e(0,"div",30,0)(2,"div",42),R(3,"img",43),_()()),o&2){let t=s.$index,r=u();c("ngClass",t===0?"active":""),i(3),j("ngSrc","",r.productImageSrc,"_",t+1,".webp"),c("priority",t===0);}}function r_(o,s){o&1&&(e(0,"button",44),R(1,"span",45),_(),e(2,"button",46),R(3,"span",47),_());}function E_(o,s){if(o&1){let t=z();e(0,"input",49),X("click",function(){b(t);let n=u(2);return k(n.resetActiveCarouselItem());}),_(),e(1,"label",50),d(2),_();}if(o&2){let t=s.$implicit,r=s.$index,n=u(2);c("id","variant"+r)("checked",n.productBarcode==t[1]),i(),F("routerLink","/product/",t[1],""),c("for","variant"+r),i(),l("",t[0],"g");}}function a_(o,s){if(o&1&&(e(0,"div",35)(1,"div",48),m(2,E_,3,6,null,null,p),_()()),o&2){let t=u();i(2),g(t.productVariantsArray);}}function d_(o,s){if(o&1&&(e(0,"div",40)(1,"span",38),E(2,10),_(),e(3,"p",51),d(4),_()()),o&2){let t=u();i(4),l(" ",t.productIngredients,". ");}}function l_(o,s){if(o&1&&(e(0,"div",41)(1,"div",52)(2,"table",53)(3,"thead",54)(4,"tr")(5,"th",55),E(6,11),_()()(),e(7,"tbody",56)(8,"tr")(9,"td"),E(10,12),_(),e(11,"td",57),d(12),_()(),e(13,"tr")(14,"td"),E(15,13),_(),e(16,"td",57),d(17),_()(),e(18,"tr")(19,"td")(20,"span",58),E(21,14),_()(),e(22,"td",57),d(23),_()(),e(24,"tr")(25,"td"),E(26,15),_(),e(27,"td",57),d(28),_()(),e(29,"tr")(30,"td")(31,"span",58),E(32,16),_()(),e(33,"td",57),d(34),_()(),e(35,"tr")(36,"td"),E(37,17),_(),e(38,"td",57),d(39),_()(),e(40,"tr")(41,"td"),E(42,18),_(),e(43,"td",57),d(44),_()()()()()()),o&2){let t=u();i(12),H("",t.productNutritionFacts.energy_kj," kJ / ",t.productNutritionFacts.energy_kcal," kcal"),i(5),l("",t.productNutritionFacts.fat," g"),i(6),l("",t.productNutritionFacts.fatty_acids," g"),i(5),l("",t.productNutritionFacts.carbohydrates," g"),i(6),l("",t.productNutritionFacts.sugars," g"),i(5),l("",t.productNutritionFacts.protein," g"),i(5),l("",t.productNutritionFacts.sodium," g");}}var m_=(()=>{class o{constructor(t,r,n,P){this.router=t,this.route=r,this.productHandler=n,this.locale_id=P,this.productName="",this.productWeight="",this.productShelfLife="",this.productBarcode="",this.productImgCount=1,this.productImageSrc="",this.packagingInfo="",this.storeInFridge=void 0,this.productIngredients=void 0,this.productVariantsArray=void 0,this.productNutritionFacts=void 0,this.urlBarcode=null,this.product=void 0;}ngOnInit(){this.routeBarcodeParamSub=this.route.paramMap.subscribe(t=>{this.urlBarcode=t.get("barcode"),this.urlBarcode?(this.product=this.productHandler.getProduct(this.urlBarcode),this.updateDisplayedInfo()):console.error("Failed to parse the barcode parameter from the URL!");});}ngOnDestroy(){this.routeBarcodeParamSub&&this.routeBarcodeParamSub.unsubscribe();}resetActiveCarouselItem(){if(this.carouselItems){let t=this.carouselItems.toArray();t.forEach(r=>{r.nativeElement.classList.remove("active");}),t.length>0&&t[0].nativeElement.classList.add("active");}else console.error("Couldn't detect carousel items.");}updateDisplayedInfo(){if(this.product)this.productWeight=this.product.weight,this.productBarcode=this.product.barcode,this.productImgCount=this.product.imgCount||1,this.productImageSrc="assets/images/products/"+this.product.barcode,this.product.availableOtherVariants&&(this.productVariantsArray=Object.entries(this.product.availableOtherVariants).filter(t=>t[1]!==void 0)),this.product.nutrition_facts&&(this.productNutritionFacts=this.product.nutrition_facts),this.locale_id=="hu"?(this.productName=this.product.productName_hu,this.productShelfLife=this.product.shelfLife_hu,this.packagingInfo=this.product.packagingInfo_hu,this.product?.ingredients_hu&&(this.productIngredients=this.product?.ingredients_hu.join(", ")),this.product.storeInFridge&&(this.storeInFridge="Felbont\xE1s ut\xE1n h\u0171tve t\xE1roljuk!")):this.locale_id=="en"&&(this.productName=this.product.productName_en,this.productShelfLife=this.product.shelfLife_en,this.packagingInfo=this.product.packagingInfo_en,this.product?.ingredients_en&&(this.productIngredients=this.product?.ingredients_en.join(", ")),this.product.storeInFridge&&(this.storeInFridge="Refigirate after opening!"));else{let t="Nem tal\xE1lhat\xF3 term\xE9k a k\xF6vetkez\u0151 vonalk\xF3ddal: "+this.urlBarcode+" !";this.router.navigate(["not-found"],{state:{error:t}});}}static{this.ɵfac=function(r){return new(r||o)(S(__),S(Y),S(t_),S(Z));};}static{this.ɵcmp=V({type:o,selectors:[["app-product"]],viewQuery:function(r,n){if(r&1&&w(i_,5),r&2){let P;B(P=Q())&&(n.carouselItems=P);}},decls:56,vars:12,consts:()=>{let t;t="More products";let r;r="Product information";let n;n="Weight:";let P;P="Country of origin:";let O;O=" Hungary ";let M;M="Use by:";let I;I="Storage recommendation:";let f;f="Keep in a cool and dry place!";let N;N="Packaging:";let L;L="productImage";let h;h="Ingredients:";let D;D="Nutritional information (per 100g)";let U;U="Energy";let G;G="Fats";let v;v="trans fatty acid";let $;$="Carbohydrate";let x;x="sugars";let K;K="Protein";let y;return y="Sodium",[["carouselItem",""],t,r,n,P,O,M,I,f,N,h,D,U,G,v,$,x,K,y,[1,"diagonal-cover","diagonal-cover-start","text-center","text-light"],[1,"col-11","col-md-10","mx-auto"],[1,"my-4"],["routerLink","/products",1,"btn","btn-outline-light"],[1,"diagonal-cover-header","text-dark"],[1,"d-row","d-md-flex"],[1,"col-12","col-md-5","col-xl-4","my-auto"],[1,"mb-3"],["id","productImageCarousel","data-bs-ride","carousel",1,"carousel","slide"],[3,"ngClass"],[1,"carousel-inner","mx-auto"],[1,"carousel-item",3,"ngClass"],[1,"d-flex","mb-3","pe-md-4"],[1,"w-auto","mx-auto"],[1,"bi","bi-upc-scan","me-1"],[1,"text-muted","user-select-all"],[1,"d-flex","mb-5"],[1,"col-12","col-md-7","col-xl-8","my-auto"],[1,"d-flex","justify-content-between","mb-3"],[1,"fs-5","me-5"],[1,"text-muted","text-end","my-auto"],[1,"d-block","mb-3",2,"text-align","justify","text-justify","inter-word"],[1,"d-row","mt-4"],[1,"d-flex","justify-content-center"],["width","500","height","625","alt",L,1,"img-fluid","mx-auto","my-auto",3,"ngSrc","priority"],["type","button","data-bs-target","#productImageCarousel","data-bs-slide","prev",1,"carousel-control-prev","text-dark"],["aria-hidden","true",1,"bi","bi-chevron-left","fs-1"],["type","button","data-bs-target","#productImageCarousel","data-bs-slide","next",1,"carousel-control-next","text-dark"],["aria-hidden","true",1,"bi","bi-chevron-right","fs-1"],["role","group","aria-label","Related product variants",1,"btn-group","justify-content-end","w-auto","mx-auto"],["type","radio","name","btnradio","autocomplete","off",1,"btn-check",3,"click","id","checked"],[1,"btn","btn-outline-dark",3,"for","routerLink"],[1,"text-muted"],[1,"d-block","col-xxl-6","mx-auto"],[1,"table","table-bordered","table-striped"],[1,"table-dark"],["colspan","2",1,"text-center"],[1,"table-light","fst-italic"],[1,"text-center"],[1,"ps-2"]];},template:function(r,n){r&1&&(e(0,"div",19)(1,"div",20)(2,"h1",21),d(3),_(),e(4,"button",22),E(5,1),_()()(),e(6,"div",20)(7,"div",23),R(8,"br"),e(9,"h1"),E(10,2),_()(),e(11,"div",24)(12,"div",25)(13,"div",26)(14,"div",27)(15,"div",28)(16,"div",29),m(17,o_,4,5,"div",30,p),_()(),T(19,r_,4,0),_()(),e(20,"div",31)(21,"div",32),R(22,"i",33),e(23,"span",34),d(24),_()()(),T(25,a_,4,0,"div",35),_(),e(26,"div",36)(27,"div",37)(28,"span",38),E(29,3),_(),e(30,"span",39),d(31),_()(),e(32,"div",37)(33,"span",38),E(34,4),_(),e(35,"span",39),E(36,5),_()(),e(37,"div",37)(38,"span",38),E(39,6),_(),e(40,"span",39),d(41),_()(),e(42,"div",37)(43,"span",38),E(44,7),_(),e(45,"span",39)(46,"span"),E(47,8),_(),d(48),_()(),e(49,"div",37)(50,"span",38),E(51,9),_(),e(52,"span",39),d(53),_()(),T(54,d_,5,1,"div",40),_()(),T(55,l_,45,8,"div",41),_()),r&2&&(i(3),A(n.productName),i(12),c("ngClass",n.productImgCount>1?"col-10 mx-auto":"col-12"),i(2),g(W(11,n_).constructor(n.productImgCount)),i(2),C(n.productImgCount>1?19:-1),i(5),A(n.productBarcode),i(),C(n.productVariantsArray?25:-1),i(6),l(" ",n.productWeight,"g "),i(10),l(" ",n.productShelfLife," "),i(7),l(" ",n.storeInFridge," "),i(5),l(" ",n.packagingInfo," "),i(),C(n.productIngredients?54:-1),i(),C(n.productNutritionFacts?55:-1));},dependencies:[e_,q,J],encapsulation:2});}}return o;})();export{m_ as ProductComponent};/**i18n:e390d991e50c78291aeb213969f9ae00c48f5dc66c0bc69c427f580838e414b3*/