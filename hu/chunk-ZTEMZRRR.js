import{a as __}from"./chunk-JDOZJ76W.js";import{c as q,e as J,f as Y}from"./chunk-AVQS4B3X.js";import{$a as V,Ea as k,Kb as W,Pa as T,Pb as Z,Ra as P,Ua as p,Va as g,Wa as O,Xa as A,Ya as t,Za as _,_a as R,aa as b,ba as y,cb as a,gb as z,hb as c,jb as X,kb as F,mb as j,nb as w,ob as B,pb as E,qb as m,rb as l,sb as C,ub as Q,xa as n,xb as H,ya as S}from"./chunk-I3OSEZNX.js";var e_=["carouselItem"],t_=()=>[];function i_(o,s){if(o&1&&(t(0,"div",28,0)(2,"div",40),R(3,"img",41),_()()),o&2){let e=s.$index,r=c();P("ngClass",e===0?"active":""),n(3),F("ngSrc","",r.productImageSrc,"_",e+1,".webp"),P("priority",e===0);}}function n_(o,s){o&1&&(t(0,"button",42),R(1,"span",43),_(),t(2,"button",44),R(3,"span",45),_());}function o_(o,s){if(o&1){let e=V();t(0,"input",47),z("click",function(){b(e);let i=c(2);return y(i.resetActiveCarouselItem());}),_(),t(1,"label",48),E(2),_();}if(o&2){let e=s.$implicit,r=s.$index,i=c(2);P("id","variant"+r)("checked",i.productBarcode==e[1]),n(),X("routerLink","/product/",e[1],""),P("for","variant"+r),n(),C("",e[0],"",i.unitOfMeasure,"");}}function r_(o,s){if(o&1&&(t(0,"div",33)(1,"div",46),O(2,o_,3,7,null,null,g),_()()),o&2){let e=c();n(2),A(e.productVariantsArray);}}function a_(o,s){if(o&1&&(t(0,"div",38)(1,"span",36),a(2,8),_(),t(3,"p",49),E(4),_()()),o&2){let e=c();n(4),l("",e.productIngredients,".");}}function d_(o,s){if(o&1&&(t(0,"div",39)(1,"div",50)(2,"table",51)(3,"thead",52)(4,"tr")(5,"th",53),a(6,9),_()()(),t(7,"tbody",54)(8,"tr")(9,"td"),a(10,10),_(),t(11,"td",55),E(12),_()(),t(13,"tr")(14,"td"),a(15,11),_(),t(16,"td",55),E(17),_()(),t(18,"tr")(19,"td")(20,"span",56),a(21,12),_()(),t(22,"td",55),E(23),_()(),t(24,"tr")(25,"td"),a(26,13),_(),t(27,"td",55),E(28),_()(),t(29,"tr")(30,"td")(31,"span",56),a(32,14),_()(),t(33,"td",55),E(34),_()(),t(35,"tr")(36,"td"),a(37,15),_(),t(38,"td",55),E(39),_()(),t(40,"tr")(41,"td"),a(42,16),_(),t(43,"td",55),E(44),_()()()()()()),o&2){let e=c();n(12),C("",e.productNutritionFacts.energy_kj," kJ / ",e.productNutritionFacts.energy_kcal," kcal"),n(5),l("",e.productNutritionFacts.fat," g"),n(6),l("",e.productNutritionFacts.fatty_acids," g"),n(5),l("",e.productNutritionFacts.carbohydrates," g"),n(6),l("",e.productNutritionFacts.sugars," g"),n(5),l("",e.productNutritionFacts.protein," g"),n(5),l("",e.productNutritionFacts.sodium," g");}}var p_=(()=>{class o{constructor(e,r,i,u){this.router=e,this.route=r,this.productHandler=i,this.locale_id=u,this.productName="",this.productSize="",this.productShelfLife="",this.productBarcode="",this.productImgCount=1,this.productImageSrc="",this.packagingInfo="",this.storeInFridge=void 0,this.productIngredients=void 0,this.productVariantsArray=void 0,this.productNutritionFacts=void 0,this.urlBarcode=null,this.product=void 0,this.unitOfMeasure="";}ngOnInit(){this.routeBarcodeParamSub=this.route.paramMap.subscribe(e=>{this.urlBarcode=e.get("barcode"),this.urlBarcode?(this.product=this.productHandler.getProduct(this.urlBarcode),this.updateDisplayedInfo()):console.error("Failed to parse the barcode parameter from the URL!");});}ngOnDestroy(){this.routeBarcodeParamSub&&this.routeBarcodeParamSub.unsubscribe();}resetActiveCarouselItem(){if(this.carouselItems){let e=this.carouselItems.toArray();e.forEach(r=>{r.nativeElement.classList.remove("active");}),e.length>0&&e[0].nativeElement.classList.add("active");}else console.error("Couldn't detect carousel items.");}detectUnitOfMeasure(){this.productName.endsWith("g")?this.unitOfMeasure="g":this.productName.endsWith("l")&&(this.unitOfMeasure="ml");}updateDisplayedInfo(){if(this.product)this.productSize=this.product.size,this.productBarcode=this.product.barcode,this.productImgCount=this.product.imgCount||1,this.productImageSrc="assets/images/products/"+this.product.barcode,this.product.availableOtherVariants&&(this.productVariantsArray=Object.entries(this.product.availableOtherVariants).filter(e=>e[1]!==void 0)),this.product.nutrition_facts&&(this.productNutritionFacts=this.product.nutrition_facts),this.locale_id=="hu"?(this.productName=this.product.productName_hu,this.productShelfLife=this.product.shelfLife_hu,this.packagingInfo=this.product.packagingInfo_hu,this.product?.ingredients_hu&&(this.productIngredients=this.product?.ingredients_hu.join(", ")),this.product.storeInFridge&&(this.storeInFridge="Felbont\xE1s ut\xE1n h\u0171tve t\xE1roljuk!")):this.locale_id=="en"&&(this.productName=this.product.productName_en,this.productShelfLife=this.product.shelfLife_en,this.packagingInfo=this.product.packagingInfo_en,this.product?.ingredients_en&&(this.productIngredients=this.product?.ingredients_en.join(", ")),this.product.storeInFridge&&(this.storeInFridge="Refigirate after opening!")),this.detectUnitOfMeasure();else{let e="Nem tal\xE1lhat\xF3 term\xE9k a k\xF6vetkez\u0151 vonalk\xF3ddal: "+this.urlBarcode+" !";this.router.navigate(["not-found"],{state:{error:e}});}}static{this.ɵfac=function(r){return new(r||o)(S(J),S(q),S(__),S(H));};}static{this.ɵcmp=k({type:o,selectors:[["app-product"]],viewQuery:function(r,i){if(r&1&&j(e_,5),r&2){let u;w(u=B())&&(i.carouselItems=u);}},decls:51,vars:13,consts:()=>{let e;e="Tov\xE1bbi term\xE9keink";let r;r="Term\xE9kinform\xE1ci\xF3";let i;i="Kiszerel\xE9s:";let u;u="Min\u0151s\xE9g\xE9t meg\u0151rzi:";let I;I="T\xE1rol\xE1si javaslat:";let M;M="Sz\xE1raz, h\u0171v\xF6s helyen t\xE1roland\xF3!";let f;f="Csomagol\xE1s:";let h;h="term\xE9kfot\xF3";let N;N="\xD6sszetev\u0151k:";let L;L="\xC1tlagos t\xE1p\xE9rt\xE9k 100g term\xE9kben";let D;D="Energia";let U;U="Zs\xEDr";let G;G="amelyb\u0151l zs\xEDrsavak";let v;v="Sz\xE9nhidr\xE1t";let $;$="amelyb\u0151l cukrok";let x;x="Feh\xE9rje";let K;return K="S\xF3",[["carouselItem",""],e,r,i,u,I,M,f,N,L,D,U,G,v,$,x,K,[1,"diagonal-cover","diagonal-cover-start","text-center","text-light"],[1,"col-11","col-md-10","mx-auto"],[1,"my-4"],["routerLink","/products",1,"btn","btn-outline-light"],[1,"diagonal-cover-header","text-dark"],[1,"d-row","d-md-flex"],[1,"col-12","col-md-5","col-xl-4","my-auto"],[1,"mb-3"],["id","productImageCarousel","data-bs-ride","carousel",1,"carousel","slide"],[3,"ngClass"],[1,"carousel-inner","mx-auto"],[1,"carousel-item",3,"ngClass"],[1,"d-flex","mb-3","pe-md-4"],[1,"w-auto","mx-auto"],[1,"bi","bi-upc-scan","me-1"],[1,"text-muted","user-select-all"],[1,"d-flex","mb-5"],[1,"col-12","col-md-7","col-xl-8","my-auto"],[1,"d-flex","justify-content-between","mb-3"],[1,"fs-5","me-5"],[1,"text-muted","text-end","my-auto"],[1,"d-block","mb-3",2,"text-align","justify","text-justify","inter-word"],[1,"d-row","mt-4"],[1,"d-flex","justify-content-center"],["width","1000","height","1250","alt",h,1,"img-fluid","mx-auto","my-auto",3,"ngSrc","priority"],["type","button","data-bs-target","#productImageCarousel","data-bs-slide","prev",1,"carousel-control-prev","text-dark"],["aria-hidden","true",1,"bi","bi-chevron-left","fs-1"],["type","button","data-bs-target","#productImageCarousel","data-bs-slide","next",1,"carousel-control-next","text-dark"],["aria-hidden","true",1,"bi","bi-chevron-right","fs-1"],["role","group","aria-label","Related product variants",1,"btn-group","justify-content-end","w-auto","mx-auto"],["type","radio","name","btnradio","autocomplete","off",1,"btn-check",3,"click","id","checked"],[1,"btn","btn-outline-dark",3,"for","routerLink"],[1,"text-muted"],[1,"d-block","col-xxl-6","mx-auto"],[1,"table","table-bordered","table-striped"],[1,"table-dark"],["colspan","2",1,"text-center"],[1,"table-light","fst-italic"],[1,"text-center"],[1,"ps-2"]];},template:function(r,i){r&1&&(t(0,"div",17)(1,"div",18)(2,"h1",19),E(3),_(),t(4,"button",20),a(5,1),_()()(),t(6,"div",18)(7,"div",21),R(8,"br"),t(9,"h1"),a(10,2),_()(),t(11,"div",22)(12,"div",23)(13,"div",24)(14,"div",25)(15,"div",26)(16,"div",27),O(17,i_,4,5,"div",28,g),_()(),T(19,n_,4,0),_()(),t(20,"div",29)(21,"div",30),R(22,"i",31),t(23,"span",32),E(24),_()()(),T(25,r_,4,0,"div",33),_(),t(26,"div",34)(27,"div",35)(28,"span",36),a(29,3),_(),t(30,"span",37),E(31),_()(),t(32,"div",35)(33,"span",36),a(34,4),_(),t(35,"span",37),E(36),_()(),t(37,"div",35)(38,"span",36),a(39,5),_(),t(40,"span",37)(41,"span"),a(42,6),_(),E(43),_()(),t(44,"div",35)(45,"span",36),a(46,7),_(),t(47,"span",37),E(48),_()(),T(49,a_,5,1,"div",38),_()(),T(50,d_,45,8,"div",39),_()),r&2&&(n(3),m(i.productName),n(12),P("ngClass",i.productImgCount>1?"col-10 mx-auto":"col-12"),n(2),A(Q(12,t_).constructor(i.productImgCount)),n(2),p(i.productImgCount>1?19:-1),n(5),m(i.productBarcode),n(),p(i.productVariantsArray?25:-1),n(6),C("",i.productSize,"",i.unitOfMeasure,""),n(5),m(i.productShelfLife),n(7),l(" ",i.storeInFridge,""),n(5),m(i.packagingInfo),n(),p(i.productIngredients?49:-1),n(),p(i.productNutritionFacts?50:-1));},dependencies:[Y,W,Z],encapsulation:2});}}return o;})();export{p_ as ProductComponent};/**i18n:d04b494b3d3150cec190d5a78dea061ada83a257cb09a465651f024a2cbd621a*/